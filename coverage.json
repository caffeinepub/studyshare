{
  "kind": "coverage_report",
  "version": "1.0",
  "generatedAt": "2026-02-25T13:44:43.474Z",
  "sources": {
    "buildRequest": true,
    "implementationPlan": true
  },
  "requirements": {
    "total": 2,
    "implemented": 2,
    "items": [
      {
        "id": "REQ-19",
        "summary": "Update the Book upload form in BooksPage.tsx to remove the 'Access Link (URL)' and 'Cover Image URL' fields. Replace them with a PDF file upload input. The selected PDF should be read as Base64 and stored in the backend. Display the selected filename near the upload input. The form should retain fields for title, author, subject, and description. Update the useAddBook mutation in useQueries.ts to pass the pdfBase64 and pdfFileName fields instead of the URL fields.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/pages/BooksPage.tsx",
          "frontend/src/hooks/useQueries.ts"
        ],
        "matchedFiles": [
          "frontend/src/pages/BooksPage.tsx",
          "frontend/src/hooks/useQueries.ts"
        ]
      },
      {
        "id": "REQ-20",
        "summary": "Update the backend Book type in backend/main.mo to replace or supplement the existing accessLink and coverImageUrl fields with optional pdfBase64 and pdfFileName fields (e.g., `pdfBase64: ?Text`, `pdfFileName: ?Text`). Update the addBook function signature accordingly. Update the BookCard component (frontend/src/components/BookCard.tsx) to replace the 'Access Book' button (which opened a URL) with an 'Open Book' button that opens the stored PDF inline in a new browser tab using a Base64 data URI, when a pdfBase64 value is present.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/BookCard.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/BookCard.tsx"
        ]
      }
    ]
  },
  "changedFiles": [
    "backend/main.mo",
    "backend/migration.mo",
    "build-request.json",
    "feature_evidence.json",
    "frontend-file-summaries.txt",
    "frontend-implementation-plan.json",
    "frontend/src/backend.d.ts",
    "frontend/src/backend.ts",
    "frontend/src/components/BookCard.tsx",
    "frontend/src/declarations/backend.did.d.ts",
    "frontend/src/declarations/backend.did.js",
    "frontend/src/hooks/useQueries.ts",
    "frontend/src/pages/BooksPage.tsx",
    "frontend/src/pages/HomePage.tsx",
    "project_state.json",
    "scratch/component-selection.json",
    "spec.md",
    "spec_vs_diff_report.json"
  ]
}